@model PizzeriaInForno.Models.OrderSummary

@{
    ViewBag.Title = "Summary";
}

@section styles 
{
    <style>
        .summary {
            width: 70%;
            box-sizing: border-box;
            margin: 25px auto 0 auto;
            padding: 15px;
            border: 2px solid rgba(0,0,0,0.15);
            border-radius: 7px;
        }
    </style>
}

<div class="container">
    <div class="summary">
        <h2>Summary</h2>
        <hr />
        @if (ViewBag.EmptyCart != null)
        {
            <h3>Il carrello è vuoto :(</h3>
        }
        <ul>
            @if (ViewBag.OrderList != null)
            {
                foreach (var item in ViewBag.OrderList)
                {
                    <li>@item.ItemPrice€</li>
                }      
            }
        </ul>

        @if (ViewBag.EmptyCart == null)
        {
            if (Model.State == "NON EVASO")
            {
                using (Html.BeginForm("Edit", "OrderSummaries", new { id = Model.OrderSummaryId }, FormMethod.Post, new { @class = "mt-3" }))
                {
                    @Html.AntiForgeryToken()
                    <div class="form-group">
                        <h4>Indirizzo di consegna:</h4>
                        @Html.EditorFor(m => m.OrderAddress, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                    <div class="form-group">
                        <h4>Note particolari:</h4>
                        @Html.TextAreaFor(m => m.Note, new { @class = "form-control", rows = "3" })
                    </div>
                    <button class="btn btn-primary mt-3">Conferma ordine</button>
                }
            }
        }
    </div>
</div>
